(function(a){a.fn.tzSelect=function(b){b=a.extend({render:function(b){return a("<li>",{html:b.text()})},className:""},b);return this.each(function(){var c=a(this),d=a("<div>",{width:c.outerWidth(),className:"tzSelect",html:'<div class="selectBox"></div>'}),e=a("<ul>",{className:"dropDown"}),f=d.find(".selectBox");b.className&&e.addClass(b.className);c.find("option").each(function(d){var g=a(this);d==c.attr("selectedIndex")&&f.html(g.text());if(g.data("skip"))return!0;var h=b.render(g);h.click(function(){f.html(g.text());e.trigger("hide");c.val(g.val());return!1});e.append(h)});d.append(e.hide());c.hide().after(d);e.bind("show",function(){if(e.is(":animated"))return!1;f.addClass("expanded");e.slideDown()}).bind("hide",function(){if(e.is(":animated"))return!1;f.removeClass("expanded");e.slideUp()}).bind("toggle",function(){f.hasClass("expanded")?e.trigger("hide"):e.trigger("show")});f.click(function(){e.trigger("toggle");return!1});a(document).click(function(){e.trigger("hide")})})}})(jQuery);