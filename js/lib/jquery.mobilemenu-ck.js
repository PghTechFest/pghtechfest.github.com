(function(a){var b=0;a.fn.mobileMenu=function(c){function e(a){return a.is("ul, ol")?!0:!1}function f(){return a(window).width()<d.switchWidth?!0:!1}function g(c){if(c.attr("id"))return a("#mobileMenu_"+c.attr("id")).length>0?!0:!1;b++;c.attr("id","mm"+b);return a("#mobileMenu_mm"+b).length>0?!0:!1}function h(a){a.val()!==null&&(document.location.href=a.val())}function j(b){b.hide();a("#mobileMenu_"+b.attr("id")).show()}function k(b){b.show();a("#mobileMenu_"+b.attr("id")).hide()}function l(b){if(e(b)){var c='<select id="mobileMenu_'+b.attr("id")+'" class="mobileMenu">';c+='<option value="">'+d.topOptionText+"</option>";b.find("li").each(function(){var b="",e=a(this).parents("ul, ol").length;for(i=1;i<e;i++)b+=d.indentString;var f=a(this).find("a:first-child").attr("href"),g=b+a(this).clone().children("ul, ol").remove().end().text();c+='<option value="'+f+'">'+g+"</option>"});c+="</select>";b.parent().append(c);a("#mobileMenu_"+b.attr("id")).change(function(){h(a(this))});j(b)}else alert("mobileMenu will only work with UL or OL elements!")}function m(a){f()&&!g(a)?l(a):f()&&g(a)?j(a):!f()&&g(a)&&k(a)}var d={switchWidth:768,topOptionText:"Select a page",indentString:"&nbsp;&nbsp;&nbsp;"};return this.each(function(){c&&a.extend(d,c);var b=a(this);a(window).resize(function(){m(b)});m(b)})}})(jQuery);